<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>EverRead â€“ Free Public Domain eBooks</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-800">

  <header class="bg-indigo-700 text-white p-6 shadow-md">
    <h1 class="text-4xl font-bold text-center">ðŸ“– EverRead</h1>
    <p class="text-center mt-2 text-lg">Free public domain eBooks â€” read directly inside EverRead.</p>
  </header>

  <main class="p-6 max-w-5xl mx-auto">
    <div class="grid gap-6 grid-cols-1 md:grid-cols-2">

      <!-- Book Cards -->
      <button onclick="loadBook('Pride and Prejudice', 'https://www.gutenberg.org/files/1342/1342-0.txt')" class="bg-white rounded-xl shadow hover:shadow-md p-4 text-left transition">
        <img src="https://www.gutenberg.org/cache/epub/1342/pg1342.cover.medium.jpg" class="w-full h-60 object-cover rounded mb-3">
        <h2 class="text-xl font-semibold">Pride and Prejudice</h2>
        <p class="text-sm text-gray-600">Jane Austen</p>
      </button>

      <button onclick="loadBook('Frankenstein', 'https://www.gutenberg.org/files/84/84-0.txt')" class="bg-white rounded-xl shadow hover:shadow-md p-4 text-left transition">
        <img src="https://www.gutenberg.org/cache/epub/84/pg84.cover.medium.jpg" class="w-full h-60 object-cover rounded mb-3">
        <h2 class="text-xl font-semibold">Frankenstein</h2>
        <p class="text-sm text-gray-600">Mary Shelley</p>
      </button>

      <button onclick="loadBook('Huckleberry Finn', 'https://www.gutenberg.org/files/76/76-0.txt')" class="bg-white rounded-xl shadow hover:shadow-md p-4 text-left transition">
        <img src="https://www.gutenberg.org/cache/epub/76/pg76.cover.medium.jpg" class="w-full h-60 object-cover rounded mb-3">
        <h2 class="text-xl font-semibold">Adventures of Huckleberry Finn</h2>
        <p class="text-sm text-gray-600">Mark Twain</p>
      </button>

      <button onclick="loadBook('Moby Dick', 'https://www.gutenberg.org/files/2701/2701-0.txt')" class="bg-white rounded-xl shadow hover:shadow-md p-4 text-left transition">
        <img src="https://www.gutenberg.org/cache/epub/2701/pg2701.cover.medium.jpg" class="w-full h-60 object-cover rounded mb-3">
        <h2 class="text-xl font-semibold">Moby Dick</h2>
        <p class="text-sm text-gray-600">Herman Melville</p>
      </button>

      <button onclick="loadBook('A Tale of Two Cities', 'https://www.gutenberg.org/files/98/98-0.txt')" class="bg-white rounded-xl shadow hover:shadow-md p-4 text-left transition">
        <img src="https://www.gutenberg.org/cache/epub/98/pg98.cover.medium.jpg" class="w-full h-60 object-cover rounded mb-3">
        <h2 class="text-xl font-semibold">A Tale of Two Cities</h2>
        <p class="text-sm text-gray-600">Charles Dickens</p>
      </button>

    </div>

    <!-- Reader Section -->
    <section id="reader" class="mt-12 bg-white shadow-lg rounded-xl p-6 hidden">
      <div class="flex justify-between items-center mb-4">
        <h2 id="reader-title" class="text-2xl font-bold"></h2>
        <button onclick="closeReader()" class="text-red-600 font-semibold hover:underline text-sm">Close</button>
      </div>
      <pre id="reader-content" class="whitespace-pre-wrap text-sm font-serif max-h-[70vh] overflow-y-auto text-gray-800"></pre>
    </section>
  </main>

  <footer class="text-center text-gray-500 text-sm py-6">
    <p>&copy; 2025 EverRead. All books sourced from <a href="https://www.gutenberg.org" class="underline hover:text-gray-700">Project Gutenberg</a>.</p>
  </footer>

  <script>
    function loadBook(title, url) {
      const reader = document.getElementById("reader");
      const content = document.getElementById("reader-content");
      const heading = document.getElementById("reader-title");

      heading.textContent = "Loading \"" + title + "\"...";
      content.textContent = "Fetching book content...";
      reader.classList.remove("hidden");

      fetch(url)
        .then(response => response.text())
        .then(text => {
          heading.textContent = title;
          content.textContent = text;
        })
        .catch(err => {
          heading.textContent = title;
          content.textContent = "Failed to load the book.";
        });
    }

    function closeReader() {
      document.getElementById("reader").classList.add("hidden");
    }
  </script>

</body>
</html>
